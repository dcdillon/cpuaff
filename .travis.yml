language: cpp
sudo: required
dist: trusty

compiler:
  - g++
  - clang

os:
  - linux

before_install:
  - sudo apt-get update && sudo apt-get install automake autoconf libhwloc-dev

script:
  - ./bootstrap.sh && ./configure && make && make check
  - ./cleanup.sh
  - ./bootstrap.sh && ./configure --with-hwloc && make && make check

notifications:
  email:
    on_success: change
    on_failure: change
